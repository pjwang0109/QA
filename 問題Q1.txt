js 哪裡有錯


html:
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>todo</title>
    
    <style>
        body{
            text-align: center;
        }
        input#enterTxt{
            margin-right: 10px;
        }
        button#addBtn{
            margin-left: 10px;
        }

    </style>
</head>
<body>
    <h2>TODO MYSELF</h2>
    <input type="text" id="enterTxt">
    <button id="addBtn">Add list</button>
    
    <div id="box"></div>
    <script src="./0305.js"></script>
</body>
</html>


js:
let input = document.querySelector('#enterTxt');
let addBtn = document.querySelector('#addBtn');

let boxDiv = document.querySelector('#box');
boxDiv.style.marginTop = "20px";

input.focus();

loadData();

input.addEventListener('keydown', (e)=>{
    if(e.key === 'Enter' ){
        toDoList()
    }
})

addBtn.addEventListener('click', toDoList)

//toDoList
function toDoList(){
    const data = input.value.trim();

    saveData(data);
    loadData();

    input.value = "";
    input.focus();
}

//save
function saveData(data){
    let list = JSON.parse(localStorage.getItem('titles')) || [];
    list.push(data);
    localStorage.setItem('titles', JSON.stringify(list))
    // localStorage.removeItem('titles')

    console.log('1:', data, typeof data); //string
    console.log('2:', list, typeof list); //object
}

//儲存起來的資料
function loadData(){
    
    //todos
    let todos = JSON.parse(localStorage.getItem('titles')) || [];

    todos.forEach((todo, index)=>{
        //每一個todoList的div
        let listDiv = document.createElement('div');
        listDiv.classList.add('list');
        listDiv.style.marginTop = "15px";
        listDiv.style.background = "rgb(225, 225, 225)";
        listDiv.style.padding = "10px";
        listDiv.style.display = "flex";
        listDiv.style.justifyContent = "space-between";
        listDiv.style.alignItems = "center";
        listDiv.style.borderRadius = "5px";

        //todoList的填寫項目
        let span = document.createElement('span');
        span.textContent = todo // 修改為todo
        span.style.marginRight = '20%';

        //todoList的刪除按鈕
        let delBtn = document.createElement('button');
        delBtn.classList.add('delete');
        delBtn.innerText = "DELETE";
        delBtn.style.backgroundColor = "red";
        delBtn.style.border = "1px solid red";
        delBtn.style.borderRadius = "2px";
        delBtn.style.color = "white";
        delBtn.style.padding = "8px";
        delBtn.style.cursor = "pointer";

        delBtn.addEventListener('click', ()=>{
            if(confirm('Are you sure you want to delete?')){
                delBtnData(index)
            }
        })

        listDiv.appendChild(span);
        listDiv.appendChild(delBtn);
        boxDiv.appendChild(listDiv);

    })
}

// 刪除todoList按鈕
function delBtnData(index){
    let todos = JSON.parse(localStorage.getItem('titles')) || [];
    todos.splice(index, 1);
    localStorage.setItem('titles', JSON.stringify(todos))

    loadData();
}
