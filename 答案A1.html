async function buildCReport() {
    try {
        let userObj = getUidToken();
        let uid = userObj.uid;
        let token = userObj.token;

        // 取得輸入值
        let business = $('#allCReportCase').find('.business').val();
        let branch = $('#allCReportCase').find('.branch').val();
        let custid = $('#allCReportCase').find('.crBuildID').val();
        let cname = $('#allCReportCase').find('.crName').val();

        // 先打 S120010021，取得 crpt_pk
        let json = await apiS120010021(uid, token, business, branch, custid, cname);
        
        if (json && json.rc === "M0000") {
            let crpt_pk = json.result.crpt_pk;
            console.log("取得的 crpt_pk:", crpt_pk);

            // 再打 S120010007，並等它完成
            let jsonFinish = await apiS120010007(uid, token, crpt_pk);

            if (jsonFinish && jsonFinish.rc === "M0000") {
                console.log("S120010007 API 呼叫成功，crpt_pk:", crpt_pk);
            } else {
                console.error("S120010007 API 失敗:", jsonFinish);
            }
        } else {
            console.error("S120010021 API 失敗:", json);
        }

    } catch (error) {
        console.error("API 呼叫錯誤:", error);
    }
}
